/**!
 * LaterGator by Mondo Robot
 * String-based deferred/lazy loader
 */
(function(h,f,g,l){g={$request:null,savedContent:{},waitingElement:"article",load:function(e,f,b,c){var a=this;a.$request&&a.$request.abort&&a.$request.abort();a.$request=h.ajax({url:e,error:function(){console&&console.warn&&console.warn("LaterGator : loadContent : error",arguments);c&&c.error&&c.error(arguments);c&&c.done&&c.done()},success:function(d){a._isolateContent(d,e,f,b,c)}})},_isolateContent:function(e,f,b,c,a){"."===c.charAt(0)?c='class="'+c.substr(1).split(".")+'"':"#"===c.charAt(0)&&
(c='id="'+c.substr(1)+'"');var d=e,g=d;e=b.replace(/\-/gi,"-");e=new RegExp("<div "+("."===e.charAt(0)?"class":"#"===e.charAt(0)?"id":"")+'="'+b.substr(1)+'"((.|[\r\n])*)?</div>',"gi");c=new RegExp("<"+this.waitingElement+" "+c+"((.|[\r\n])*)?</"+this.waitingElement+">","i");if(g=d=(e.exec(d)||[])[0]){(b=c.exec(d))&&b.length&&(this.savedContent[f]=b[0]);var d=d.replace(c,""),k=h(d);setTimeout(function(){a&&a.success&&a.success(k,d,g);a&&a.done&&a.done()},50)}else console&&console.warn&&console.warn("LaterGator : _isolateContent : No "+
b+" found in response"),a&&a.done&&a.done()},fetch:function(e,f,b){if(this.savedContent.hasOwnProperty(e)){var c=this.savedContent[e],a=f.replace(/\-/gi,"-"),d=a.charAt(0),a="."===d||"#"===d?("."===d?"class":"#"===d?"id":"")+'="'+a.substr(1):a,a=new RegExp("<"+this.waitingElement+" "+a+"[^>]*?>(.|[sS\r\n])*?</"+this.waitingElement+">","i");(d=(a.exec(c)||[])[0])&&d.length?b&&b.success&&b.success(h(d),d):(console&&console.warn&&console.warn("LaterGator : fetch : Target not found",f,a,[c,this.savedContent]),
b&&b.error&&b.error(e))}else console&&console.warn&&console.warn("LaterGator : fetch : URL not in memory",e),b&&b.error&&b.error(e);b&&b.done&&b.done()}};f.LaterGator=f.LaterGater=g;f.mondo=f.mondo||{};f.mondo.LaterGator=f.mondo.LaterGater=g})(jQuery,window,document);
